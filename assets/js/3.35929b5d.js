(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{117:function(t,s,n){var a=n(9),e=n(47),r=n(1)("species");t.exports=function(t,s){var n,o=a(t).constructor;return void 0===o||null==(n=a(o)[r])?s:e(n)}},118:function(t,s,n){var a,e,r,o=n(15),p=n(138),c=n(73),i=n(49),l=n(2),v=l.process,u=l.setImmediate,_=l.clearImmediate,k=l.MessageChannel,f=l.Dispatch,h=0,d={},g=function(){var t=+this;if(d.hasOwnProperty(t)){var s=d[t];delete d[t],s()}},m=function(t){g.call(t.data)};u&&_||(u=function(t){for(var s=[],n=1;arguments.length>n;)s.push(arguments[n++]);return d[++h]=function(){p("function"==typeof t?t:Function(t),s)},a(h),h},_=function(t){delete d[t]},"process"==n(16)(v)?a=function(t){v.nextTick(o(g,t,1))}:f&&f.now?a=function(t){f.now(o(g,t,1))}:k?(r=(e=new k).port2,e.port1.onmessage=m,a=o(r.postMessage,r,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(a=function(t){l.postMessage(t+"","*")},l.addEventListener("message",m,!1)):a="onreadystatechange"in i("script")?function(t){c.appendChild(i("script")).onreadystatechange=function(){c.removeChild(this),g.call(t)}}:function(t){setTimeout(o(g,t,1),0)}),t.exports={set:u,clear:_}},119:function(t,s,n){"use strict";var a=n(47);function e(t){var s,n;this.promise=new t(function(t,a){if(void 0!==s||void 0!==n)throw TypeError("Bad Promise constructor");s=t,n=a}),this.resolve=a(s),this.reject=a(n)}t.exports.f=function(t){return new e(t)}},120:function(t,s,n){var a=n(9),e=n(4),r=n(119);t.exports=function(t,s){if(a(t),e(s)&&s.constructor===t)return s;var n=r.f(t);return(0,n.resolve)(s),n.promise}},137:function(t,s,n){"use strict";var a,e,r,o,p=n(50),c=n(2),i=n(15),l=n(70),v=n(3),u=n(4),_=n(47),k=n(54),f=n(55),h=n(117),d=n(118).set,g=n(139)(),m=n(119),y=n(140),b=n(141),w=n(120),x=c.TypeError,j=c.process,C=j&&j.versions,P=C&&C.v8||"",L=c.Promise,S="process"==l(j),O=function(){},E=e=m.f,R=!!function(){try{var t=L.resolve(1),s=(t.constructor={})[n(1)("species")]=function(t){t(O,O)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof s&&0!==P.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),T=function(t){var s;return!(!u(t)||"function"!=typeof(s=t.then))&&s},M=function(t,s){if(!t._n){t._n=!0;var n=t._c;g(function(){for(var a=t._v,e=1==t._s,r=0,o=function(s){var n,r,o,p=e?s.ok:s.fail,c=s.resolve,i=s.reject,l=s.domain;try{p?(e||(2==t._h&&F(t),t._h=1),!0===p?n=a:(l&&l.enter(),n=p(a),l&&(l.exit(),o=!0)),n===s.promise?i(x("Promise-chain cycle")):(r=T(n))?r.call(n,c,i):c(n)):i(a)}catch(t){l&&!o&&l.exit(),i(t)}};n.length>r;)o(n[r++]);t._c=[],t._n=!1,s&&!t._h&&$(t)})}},$=function(t){d.call(c,function(){var s,n,a,e=t._v,r=D(t);if(r&&(s=y(function(){S?j.emit("unhandledRejection",e,t):(n=c.onunhandledrejection)?n({promise:t,reason:e}):(a=c.console)&&a.error&&a.error("Unhandled promise rejection",e)}),t._h=S||D(t)?2:1),t._a=void 0,r&&s.e)throw s.v})},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){d.call(c,function(){var s;S?j.emit("rejectionHandled",t):(s=c.onrejectionhandled)&&s({promise:t,reason:t._v})})},A=function(t){var s=this;s._d||(s._d=!0,(s=s._w||s)._v=t,s._s=2,s._a||(s._a=s._c.slice()),M(s,!0))},G=function(t){var s,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(s=T(t))?g(function(){var a={_w:n,_d:!1};try{s.call(t,i(G,a,1),i(A,a,1))}catch(t){A.call(a,t)}}):(n._v=t,n._s=1,M(n,!1))}catch(t){A.call({_w:n,_d:!1},t)}}};R||(L=function(t){k(this,L,"Promise","_h"),_(t),a.call(this);try{t(i(G,this,1),i(A,this,1))}catch(t){A.call(this,t)}},(a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(53)(L.prototype,{then:function(t,s){var n=E(h(this,L));return n.ok="function"!=typeof t||t,n.fail="function"==typeof s&&s,n.domain=S?j.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new a;this.promise=t,this.resolve=i(G,t,1),this.reject=i(A,t,1)},m.f=E=function(t){return t===L||t===o?new r(t):e(t)}),v(v.G+v.W+v.F*!R,{Promise:L}),n(34)(L,"Promise"),n(71)("Promise"),o=n(14).Promise,v(v.S+v.F*!R,"Promise",{reject:function(t){var s=E(this);return(0,s.reject)(t),s.promise}}),v(v.S+v.F*(p||!R),"Promise",{resolve:function(t){return w(p&&this===o?L:this,t)}}),v(v.S+v.F*!(R&&n(74)(function(t){L.all(t).catch(O)})),"Promise",{all:function(t){var s=this,n=E(s),a=n.resolve,e=n.reject,r=y(function(){var n=[],r=0,o=1;f(t,!1,function(t){var p=r++,c=!1;n.push(void 0),o++,s.resolve(t).then(function(t){c||(c=!0,n[p]=t,--o||a(n))},e)}),--o||a(n)});return r.e&&e(r.v),n.promise},race:function(t){var s=this,n=E(s),a=n.reject,e=y(function(){f(t,!1,function(t){s.resolve(t).then(n.resolve,a)})});return e.e&&a(e.v),n.promise}})},138:function(t,s){t.exports=function(t,s,n){var a=void 0===n;switch(s.length){case 0:return a?t():t.call(n);case 1:return a?t(s[0]):t.call(n,s[0]);case 2:return a?t(s[0],s[1]):t.call(n,s[0],s[1]);case 3:return a?t(s[0],s[1],s[2]):t.call(n,s[0],s[1],s[2]);case 4:return a?t(s[0],s[1],s[2],s[3]):t.call(n,s[0],s[1],s[2],s[3])}return t.apply(n,s)}},139:function(t,s,n){var a=n(2),e=n(118).set,r=a.MutationObserver||a.WebKitMutationObserver,o=a.process,p=a.Promise,c="process"==n(16)(o);t.exports=function(){var t,s,n,i=function(){var a,e;for(c&&(a=o.domain)&&a.exit();t;){e=t.fn,t=t.next;try{e()}catch(a){throw t?n():s=void 0,a}}s=void 0,a&&a.enter()};if(c)n=function(){o.nextTick(i)};else if(!r||a.navigator&&a.navigator.standalone)if(p&&p.resolve){var l=p.resolve(void 0);n=function(){l.then(i)}}else n=function(){e.call(a,i)};else{var v=!0,u=document.createTextNode("");new r(i).observe(u,{characterData:!0}),n=function(){u.data=v=!v}}return function(a){var e={fn:a,next:void 0};s&&(s.next=e),t||(t=e,n()),s=e}}},140:function(t,s){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},141:function(t,s,n){var a=n(2).navigator;t.exports=a&&a.userAgent||""},142:function(t,s,n){"use strict";var a=n(3),e=n(14),r=n(2),o=n(117),p=n(120);a(a.P+a.R,"Promise",{finally:function(t){var s=o(this,e.Promise||r.Promise),n="function"==typeof t;return this.then(n?function(n){return p(s,t()).then(function(){return n})}:t,n?function(n){return p(s,t()).then(function(){throw n})}:t)}})},177:function(t,s,n){t.exports=n.p+"assets/img/lint.69c5a4f3.svg"},185:function(t,s,n){"use strict";n.r(s);n(72),n(137),n(142);var a={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},e=n(5),r=Object(e.a)(a,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.slotKey}},[a("h1",{attrs:{id:"阅前指南"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阅前指南","aria-hidden":"true"}},[t._v("#")]),t._v(" 阅前指南")]),t._v(" "),a("p",[t._v("随着前端项目体积的增长，新人的融入，代码风格越来越多变，这造成了团队协作上的效率显著下降，也提升了人员间的沟通成本。考虑到历史遗留成本及人员适应度，一份前端规范呼之欲出。")]),t._v(" "),a("h2",{attrs:{id:"规范指引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规范指引","aria-hidden":"true"}},[t._v("#")]),t._v(" 规范指引")]),t._v(" "),a("p",[t._v("前端规范主要由以下五份规范组合而成：")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://pets-web.github.io/tms-style-guide/js/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ES 规范"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://pets-web.github.io/tms-style-guide/js/vue.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue 规范"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://pets-web.github.io/tms-style-guide/css/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS 规范"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://pets-web.github.io/tms-style-guide/css/less.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Less 规范"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://pets-web.github.io/tms-style-guide/git/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 工作流"),a("OutboundLink")],1)])])]),t._v(" "),a("h2",{attrs:{id:"规范说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规范说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 规范说明")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("ES 及 Vue 规范通过 "),a("a",{attrs:{href:"https://eslint.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ESLint"),a("OutboundLink")],1),t._v(" 在项目中落地生效")])]),t._v(" "),a("li",[a("p",[t._v("CSS 及 Less 规范通过 "),a("a",{attrs:{href:"https://stylelint.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("StyleLint"),a("OutboundLink")],1),t._v(" 在项目中落地生效")])]),t._v(" "),a("li",[a("p",[t._v("Git Commit 规范通过 "),a("a",{attrs:{href:"https://github.com/typicode/husky",target:"_blank",rel:"noopener noreferrer"}},[t._v("Husky"),a("OutboundLink")],1),t._v(" 在项目中落地生效")])]),t._v(" "),a("li",[a("p",[t._v("代码格式化通过 "),a("a",{attrs:{href:"https://prettier.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prettier"),a("OutboundLink")],1),t._v(" 在项目中落地生效")])])]),t._v(" "),a("h2",{attrs:{id:"工程化流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工程化流程","aria-hidden":"true"}},[t._v("#")]),t._v(" 工程化流程")]),t._v(" "),a("p",[a("img",{attrs:{src:n(177),alt:""}})]),t._v(" "),a("h2",{attrs:{id:"lint-库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lint-库","aria-hidden":"true"}},[t._v("#")]),t._v(" Lint 库")]),t._v(" "),a("p",[t._v("为了加速前端规范的落地，提供 ESLint 及 StyleLint 两个 npm 包，如下：")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://github.com/Pets-web/eslint-config-tms",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint-config-tmsfe"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/Pets-web/stylelint-config-tms",target:"_blank",rel:"noopener noreferrer"}},[t._v("stylelint-config-tmsfe"),a("OutboundLink")],1)])])]),t._v(" "),a("h2",{attrs:{id:"使用说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用说明")]),t._v(" "),a("ol",[a("li",[t._v("引入相应的 npm 包，命令如下：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git hook")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i husky lint-staged -D\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# eslint")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i eslint eslint-config-tmsfe -D\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# stylelint")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i stylelint stylelint-config-tmsfe -D\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("配置 "),a("code",[t._v("package.json")]),t._v(" 中的 "),a("code",[t._v("script")])])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslint"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./node_modules/eslint/bin/eslint.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"stylelint"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./node_modules/stylelint/bin/stylelint.js"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("项目根目录下新建 "),a("code",[t._v(".eslintrc.js")]),t._v(" 及 "),a("code",[t._v(".eslintignore")]),t._v(" 两个文件，配置如下：")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//.eslintrc.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint-config-tmsfe"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# .eslintignore")]),t._v("\ndist\nnode_modules\nstatic\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("项目根目录下新建 "),a("code",[t._v(".stylelintrc.js")]),t._v(" 及 "),a("code",[t._v(".stylelintignore")]),t._v(" 两个文件，配置如下：")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//.stylelintrc.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint-config-tmsfe"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# .stylelintignore")]),t._v("\ndist\nnode_modules\nstatic\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("项目根目录下新建 "),a("code",[t._v(".prettierrc")]),t._v(" 文件，配置如下：")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .prettierrc")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"printWidth"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tabWidth"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"useTabs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"semi"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"singleQuote"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"trailingComma"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"all"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bracketSpacing"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jsxBracketSameLine"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[t._v("项目根目录下新建 "),a("code",[t._v("git-hooks")]),t._v(" 文件夹，并在其下面新建 "),a("code",[t._v("verify-commit-msg.js")]),t._v(" 文件，配置如下：")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" chalk "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chalk'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" msgPath "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HUSKY_GIT_PARAMS")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" msg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msgPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" commitRE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/^(revert: )?(install|config|docs|perf|update|ui|test)(\\(.+\\))?: .{1,50}/")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("commitRE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`  ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("chalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bgRed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("white")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' ERROR '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("chalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("red")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`invalid commit message format.`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\\n\\n`")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n    chalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("red")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`  Proper commit message format is required for team commit specification.\\n`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`  ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("chalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("red")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Examples:'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\\n `")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`   ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("chalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("green")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`feat(v1.0): add new features`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\\n`")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`    ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("chalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("green")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`fix: hotfix bug `")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\\n\\n`")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n    chalk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("red")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`  See https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-commit-message-guidelines for more details.\\n`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("exit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"7"}},[a("li",[t._v("配置 "),a("code",[t._v("package.json")]),t._v(" 中的 git hooks")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"husky"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hooks"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pre-commit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"commit-msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node git-hooks/verify-commit-msg.js"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"src/**/*.{js,vue}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"src/**/*.{css,scss,less,vue}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"8"}},[a("li",[t._v("开发中提交文件时，只需触发"),a("code",[t._v("git commit")]),t._v("命令，即可触发相应的 Lint")])])])},[],!1,null,null,null);r.options.__file="README.md";s.default=r.exports}}]);